<!DOCTYPE html>
<html lang="ru" data-theme="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü—Ä–æ—Ñ–∏–ª—å</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="shared.css">
  <link rel="stylesheet" href="userprofile.css">
</head>

<body>
  <div class="app-container">
    <div class="header">
      <div class="icon-btn" onclick="window.location.href='home.html'">
        <svg viewBox="0 0 24 24">
          <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </div>
      <div class="title">
        <span data-i18n="profile_title">–ü—Ä–æ—Ñ–∏–ª—å</span>
        <div class="save-indicator">
          <div class="save-dot saved" id="saveDot"></div>
          <span id="saveText" data-i18n="saved">–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ</span>
        </div>
      </div>
      <div class="icon-btn" id="saveProfileBtn">
        <svg viewBox="0 0 24 24">
          <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round" />
          <polyline points="17 21 17 13 7 13 7 21" />
          <polyline points="7 3 7 8 15 8" />
        </svg>
      </div>
    </div>

    <div class="main">
      <!-- Hero Section -->
      <div class="profile-hero">
        <div class="avatar">
          <span id="avatarLetter">A</span>
          <div class="camera-icon">üì∑</div>
        </div>
        <div class="hero-info">
          <h2 class="hero-name" id="heroName">–ê–∑–∞–º–∞—Ç</h2>
          <div class="hero-sub">
            <div class="pill" id="roleBadge">Client</div>
            <div class="pill">
              <svg viewBox="0 0 24 24">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z" />
                <circle cx="12" cy="10" r="3" />
              </svg>
              <span id="heroCity">–ê—Å—Ç–∞–Ω–∞</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Stats -->
      <div class="stats">
        <div class="stat">
          <div class="stat-num" id="statOrders">0</div>
          <div class="stat-label" data-i18n="stat_orders">–ó–∞–∫–∞–∑–æ–≤</div>
        </div>
        <div class="stat">
          <div class="stat-num">4.9</div>
          <div class="stat-label" data-i18n="stat_rating">–†–µ–π—Ç–∏–Ω–≥</div>
        </div>
        <div class="stat">
          <div class="stat-num" id="statSaved">2</div>
          <div class="stat-label" data-i18n="stat_saved">–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ</div>
        </div>
      </div>

      <h3 class="section-title" data-i18n="edit_title">–î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è</h3>
      <div class="card form">
        <div class="field">
          <label class="label" data-i18n="lbl_name">–ò–º—è</label>
          <input type="text" id="nameInput" class="input" />
        </div>
        <div class="field">
          <label class="label" data-i18n="lbl_phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
          <input type="text" id="phoneInput" class="input" />
        </div>
        <div class="row">
          <div class="field">
            <label class="label" data-i18n="lbl_city">–ì–æ—Ä–æ–¥</label>
            <select id="cityInput" class="input select">
              <option value="–ê—Å—Ç–∞–Ω–∞">–ê—Å—Ç–∞–Ω–∞</option>
              <option value="–ê–ª–º–∞—Ç—ã">–ê–ª–º–∞—Ç—ã</option>
              <option value="–®—ã–º–∫–µ–Ω—Ç">–®—ã–º–∫–µ–Ω—Ç</option>
            </select>
          </div>
          <div class="field">
            <label class="label" data-i18n="lbl_role">–†–æ–ª—å</label>
            <select id="roleSelect" class="input select">
              <option value="client" data-i18n="role_client">–ó–∞–∫–∞–∑—á–∏–∫</option>
              <option value="master" data-i18n="role_master">–ú–∞—Å—Ç–µ—Ä</option>
            </select>
          </div>
        </div>

        <div id="masterSpecBlock" class="field hidden">
          <label class="label" data-i18n="lbl_spec">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</label>
          <select id="specSelect" class="input select">
            <option value="electrician" data-i18n="spec_electrician">–≠–ª–µ–∫—Ç—Ä–∏–∫</option>
            <option value="plumber" data-i18n="spec_plumber">–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫</option>
            <option value="builder" data-i18n="spec_builder">–†–µ–º–æ–Ω—Ç</option>
            <option value="cleaner" data-i18n="spec_cleaner">–£–±–æ—Ä–∫–∞</option>
          </select>
        </div>

        <div class="field">
          <label class="label" data-i18n="lbl_about">–û —Å–µ–±–µ</label>
          <textarea id="aboutInput" class="textarea"></textarea>
        </div>
      </div>

      <h3 class="section-title" data-i18n="settings_title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
      <div class="list">
        <div class="item" id="themeItem">
          <div class="item-left">
            <div class="item-ic">
              <svg viewBox="0 0 24 24">
                <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" stroke="currentColor" stroke-width="2"
                  stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </div>
            <div class="item-txt">
              <h4 class="item-title" data-i18n="theme_title">–¢–µ–º–∞</h4>
              <div class="item-sub" id="themeSub">–°–µ–π—á–∞—Å: –¢–µ–º–Ω–∞—è</div>
            </div>
          </div>
        </div>

        <div class="item" onclick="openLangPicker()">
          <div class="item-left">
            <div class="item-ic">
              <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" />
                <line x1="2" y1="12" x2="22" y2="12" />
                <path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z" />
              </svg>
            </div>
            <div class="item-txt">
              <h4 class="item-title" data-i18n="lang_title">–Ø–∑—ã–∫</h4>
              <div class="item-sub" id="langSub">“ö–∞–∑–∞“õ—à–∞ / –†—É—Å—Å–∫–∏–π</div>
            </div>
          </div>
        </div>

        <button class="btn btn-danger w-full mt-4" onclick="openLogoutModal()" data-i18n="btn_logout">–í—ã–π—Ç–∏</button>
      </div>
    </div>

    <!-- Logout Modal -->
    <div class="modal-overlay" id="logoutModal">
      <div class="modal">
        <h3 class="modal-title" data-i18n="logout_title">–í—ã—Ö–æ–¥</h3>
        <p class="modal-desc" data-i18n="logout_confirm_desc">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?</p>
        <div class="flex gap-2">
          <button class="btn btn-glass w-full" onclick="closeLogoutModal()" data-i18n="btn_cancel">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-danger w-full" onclick="logout()" data-i18n="btn_logout">–í—ã–π—Ç–∏</button>
        </div>
      </div>
    </div>
  </div>

  <script src="shared.js"></script>
  <script src="userprofile.js"></script>
</body>

</html>